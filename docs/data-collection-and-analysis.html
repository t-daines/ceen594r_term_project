<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Data Collection and Analysis | Estimation of Ramp Meter Queue Length</title>
  <meta name="description" content="This is a report of a data analysis project that focuses on analyzing ramp meters in the state of Utah. The goal of the project is to obtain an accurate estimate of the expected wait time for vehicles on the on-ramp." />
  <meta name="generator" content="bookdown 0.20.6 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Data Collection and Analysis | Estimation of Ramp Meter Queue Length" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a report of a data analysis project that focuses on analyzing ramp meters in the state of Utah. The goal of the project is to obtain an accurate estimate of the expected wait time for vehicles on the on-ramp." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Data Collection and Analysis | Estimation of Ramp Meter Queue Length" />
  
  <meta name="twitter:description" content="This is a report of a data analysis project that focuses on analyzing ramp meters in the state of Utah. The goal of the project is to obtain an accurate estimate of the expected wait time for vehicles on the on-ramp." />
  

<meta name="author" content="Tanner Daines" />


<meta name="date" content="2020-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="methods-to-estimate-ramp-queue-length.html"/>
<link rel="next" href="summary.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Estimation of Ramp Meter Queue Length</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Abstract</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="ramp-metering-design-and-implementation.html"><a href="ramp-metering-design-and-implementation.html"><i class="fa fa-check"></i><b>3</b> Ramp Metering Design and Implementation</a></li>
<li class="chapter" data-level="4" data-path="methods-to-estimate-ramp-queue-length.html"><a href="methods-to-estimate-ramp-queue-length.html"><i class="fa fa-check"></i><b>4</b> Methods to Estimate Ramp Queue Length</a></li>
<li class="chapter" data-level="5" data-path="data-collection-and-analysis.html"><a href="data-collection-and-analysis.html"><i class="fa fa-check"></i><b>5</b> Data Collection and Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="data-collection-and-analysis.html"><a href="data-collection-and-analysis.html#site-description"><i class="fa fa-check"></i><b>5.1</b> Site Description</a></li>
<li class="chapter" data-level="5.2" data-path="data-collection-and-analysis.html"><a href="data-collection-and-analysis.html#data-collection"><i class="fa fa-check"></i><b>5.2</b> Data Collection</a></li>
<li class="chapter" data-level="5.3" data-path="data-collection-and-analysis.html"><a href="data-collection-and-analysis.html#data-analysis"><i class="fa fa-check"></i><b>5.3</b> Data Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="summary.html"><a href="summary.html"><i class="fa fa-check"></i><b>6</b> Summary</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Estimation of Ramp Meter Queue Length</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-collection-and-analysis" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Data Collection and Analysis</h1>
<div id="site-description" class="section level2">
<h2><span class="header-section-number">5.1</span> Site Description</h2>
<p>The Layton Parkway northbound on-ramp to I-15 has two lanes entering the on-ramp from the west (two lanes turning left onto the ramp) and one lane entering the ramp from the east (one right turn lane). The left turn lanes are controlled by a left-turn only phase at the traffic signal; there is no permitted phase for this turning movement. The right turn lane is free at the entrance to the ramp, but approximately 150 feet into the ramp, there is a yield sign, as this lane ends and must merge with the lane to its left. The ramp is about 540 feet long from the entrance to the ramp meter signal. The ramp metering rate is adaptive, as the ramp metering algorithm used by UDOT automatically modifies the rate based on detector data.</p>
</div>
<div id="data-collection" class="section level2">
<h2><span class="header-section-number">5.2</span> Data Collection</h2>
<p>Five days of data collection were conducted during the PM metering period of 4:00 - 6:30 PM in August of 2020. The data from UDOT is collected via loop detectors at three locations along the on-ramp: near the on-ramp entrance (referred to as “excessive queue” in this report), in the middle of the ramp (“intermediate queue”), and just past the ramp meter signal (“passage”). These data are given in one-minute periods (e.g. 4:00:00 - 4:01:00 PM) in each lane and they include the vehicle volume, the detector occupancy, the number of lanes, and the ramp metering rate.</p>
<p>The detector data are compared with manual traffic counts of these five days, which are also recorded in one-minute periods in each lane. The manual counts include the number of vehicles entering each lane at the excessive queue detectors as well as the queue size at the ramp meter signal at the end of each one-minute period. For example, if from 4:00:00 to 4:01:00 PM, 5 vehicles entered the far left lane, 4 vehicles from the middle lane, and 3 vehicles entered from the right lane, each lane’s count during that one minute would be recorded, and the total number of vehicles entering the ramp during that minute is 12 vehicles. In addition, at 4:01:00 PM, the total queue size at the signal for all lanes is also recorded; perhaps at 4:01:00 PM, the queue size is 7 vehicles. Assuming there was no queue previous to this period, that therefore means that 5 of the 12 vehicles were able to enter the freeway between 4:00:00 and 4:01:00 PM. During the next time period, if a total of 10 new vehicles entered the ramp and at 4:02:00 PM, the queue size was 9 vehicles, that would mean that 9 vehicles would have entered the freeway during that time: the 7 vehicles from the previous time period, plus an additional 2 vehicles that entered the ramp during this time period.</p>
</div>
<div id="data-analysis" class="section level2">
<h2><span class="header-section-number">5.3</span> Data Analysis</h2>
<p>The data collected from the five days were first analyzed to determine whether the detectors were accurate.The data for August 17, 2020 is shown below in Figure .This plot shows a comparison between the</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="data-collection-and-analysis.html#cb1-1"></a>layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span> &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/layton_08_17_2020.xlsx&quot;</span>)</span>
<span id="cb1-2"><a href="data-collection-and-analysis.html#cb1-2"></a></span>
<span id="cb1-3"><a href="data-collection-and-analysis.html#cb1-3"></a><span class="co"># Compare lane 1 EQ auto and manual counts</span></span>
<span id="cb1-4"><a href="data-collection-and-analysis.html#cb1-4"></a>formula1 &lt;-<span class="st"> </span>y <span class="op">~</span><span class="st"> </span>x</span>
<span id="cb1-5"><a href="data-collection-and-analysis.html#cb1-5"></a>eq1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span>,<span class="kw">aes</span>(Manual_EQ_<span class="fl">1.2</span>,Auto_EQ_<span class="dv">1</span>)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_jitter</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb1-6"><a href="data-collection-and-analysis.html#cb1-6"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Left Lane EQ Manual Volume (veh)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Left Lane EQ Detector Volume (veh)&quot;</span>) <span class="op">+</span></span>
<span id="cb1-7"><a href="data-collection-and-analysis.html#cb1-7"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se=</span><span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb1-8"><a href="data-collection-and-analysis.html#cb1-8"></a><span class="st">  </span><span class="kw">stat_poly_eq</span>(<span class="dt">formula=</span>formula1,<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..eq.label..,..rr.label..,<span class="dt">sep=</span><span class="st">&quot;~~~&quot;</span>)),<span class="dt">parse=</span><span class="ot">TRUE</span>)</span>
<span id="cb1-9"><a href="data-collection-and-analysis.html#cb1-9"></a><span class="kw">print</span>(eq1)</span></code></pre></div>
<p><img src="ceen594r_term_project_files/figure-html/layton_08_17_2020-1.png" width="672" /></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="data-collection-and-analysis.html#cb2-1"></a><span class="co"># Compare lane 2 EQ auto and manual counts</span></span>
<span id="cb2-2"><a href="data-collection-and-analysis.html#cb2-2"></a>eq2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span>,<span class="kw">aes</span>(Manual_EQ_<span class="dv">3</span>,Auto_EQ_<span class="dv">2</span>)) <span class="op">+</span><span class="st"> </span><span class="kw">geom_jitter</span>() <span class="op">+</span></span>
<span id="cb2-3"><a href="data-collection-and-analysis.html#cb2-3"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Right Lane EQ Manual Volume (veh)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Right Lane EQ Detector Volume (veh)&quot;</span>)<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se=</span><span class="ot">FALSE</span>) <span class="op">+</span></span>
<span id="cb2-4"><a href="data-collection-and-analysis.html#cb2-4"></a><span class="st">  </span><span class="kw">stat_poly_eq</span>(<span class="dt">formula=</span>formula1,<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..eq.label..,..rr.label..,<span class="dt">sep=</span><span class="st">&quot;~~~&quot;</span>)),<span class="dt">parse=</span><span class="ot">TRUE</span>)</span>
<span id="cb2-5"><a href="data-collection-and-analysis.html#cb2-5"></a><span class="kw">print</span>(eq2)</span></code></pre></div>
<p><img src="ceen594r_term_project_files/figure-html/layton_08_17_2020-2.png" width="672" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-collection-and-analysis.html#cb3-1"></a><span class="co">#Compare intermediate and excessive queue counts</span></span>
<span id="cb3-2"><a href="data-collection-and-analysis.html#cb3-2"></a>q1 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span>,<span class="kw">aes</span>(Auto_IQ_<span class="dv">1</span>,Auto_EQ_<span class="dv">1</span>)) <span class="op">+</span></span>
<span id="cb3-3"><a href="data-collection-and-analysis.html#cb3-3"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Left Lane IQ Detector Volume (veh)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Left Lane EQ Detector Volume (veh)&quot;</span>) <span class="op">+</span></span>
<span id="cb3-4"><a href="data-collection-and-analysis.html#cb3-4"></a><span class="st">  </span><span class="kw">geom_jitter</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se=</span><span class="ot">FALSE</span>)<span class="op">+</span></span>
<span id="cb3-5"><a href="data-collection-and-analysis.html#cb3-5"></a><span class="st">  </span><span class="kw">stat_poly_eq</span>(<span class="dt">formula=</span>formula1,<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..eq.label..,..rr.label..,<span class="dt">sep=</span><span class="st">&quot;~~~&quot;</span>)),<span class="dt">parse=</span><span class="ot">TRUE</span>)</span>
<span id="cb3-6"><a href="data-collection-and-analysis.html#cb3-6"></a><span class="kw">print</span>(q1)</span></code></pre></div>
<p><img src="ceen594r_term_project_files/figure-html/layton_08_17_2020-3.png" width="672" /></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="data-collection-and-analysis.html#cb4-1"></a>q2 &lt;-<span class="st"> </span><span class="kw">ggplot</span>(layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span>,<span class="kw">aes</span>(Auto_IQ_<span class="dv">2</span>,Auto_EQ_<span class="dv">2</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb4-2"><a href="data-collection-and-analysis.html#cb4-2"></a><span class="st">  </span><span class="kw">xlab</span>(<span class="st">&quot;Right Lane IQ Detector Volume (veh)&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="kw">ylab</span>(<span class="st">&quot;Right Lane EQ Detector Volume (veh)&quot;</span>) <span class="op">+</span></span>
<span id="cb4-3"><a href="data-collection-and-analysis.html#cb4-3"></a><span class="st">  </span><span class="kw">geom_jitter</span>()<span class="op">+</span><span class="kw">geom_smooth</span>(<span class="dt">method=</span><span class="st">&quot;lm&quot;</span>,<span class="dt">se=</span><span class="ot">FALSE</span>)<span class="op">+</span></span>
<span id="cb4-4"><a href="data-collection-and-analysis.html#cb4-4"></a><span class="st">  </span><span class="kw">stat_poly_eq</span>(<span class="dt">formula=</span>formula1,<span class="kw">aes</span>(<span class="dt">label=</span><span class="kw">paste</span>(..eq.label..,..rr.label..,<span class="dt">sep=</span><span class="st">&quot;~~~&quot;</span>)),<span class="dt">parse=</span><span class="ot">TRUE</span>)</span>
<span id="cb4-5"><a href="data-collection-and-analysis.html#cb4-5"></a><span class="kw">print</span>(q2)</span></code></pre></div>
<p><img src="ceen594r_term_project_files/figure-html/layton_08_17_2020-4.png" width="672" /></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-collection-and-analysis.html#cb5-1"></a>layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span> &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;data/layton_08_17_2020.xlsx&quot;</span>)</span>
<span id="cb5-2"><a href="data-collection-and-analysis.html#cb5-2"></a>layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span> <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">transmute</span>(<span class="st">`</span><span class="dt">Start time</span><span class="st">`</span>, <span class="dt">Detector =</span> Auto_EQ_<span class="dv">1</span>, <span class="dt">Manual =</span> <span class="kw">lag</span>(Manual_EQ_<span class="dv">1</span>)) <span class="op">%&gt;%</span></span>
<span id="cb5-3"><a href="data-collection-and-analysis.html#cb5-3"></a><span class="st"> </span><span class="kw">gather</span>(<span class="dt">key =</span> <span class="st">&quot;Legend&quot;</span>, <span class="dt">value =</span> <span class="st">&quot;Queue Size&quot;</span>, <span class="op">-</span><span class="st">`</span><span class="dt">Start time</span><span class="st">`</span>)  <span class="op">%&gt;%</span></span>
<span id="cb5-4"><a href="data-collection-and-analysis.html#cb5-4"></a><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> <span class="st">`</span><span class="dt">Start time</span><span class="st">`</span>, <span class="dt">y =</span> <span class="st">`</span><span class="dt">Queue Size</span><span class="st">`</span>, <span class="dt">color =</span> <span class="st">`</span><span class="dt">Legend</span><span class="st">`</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb5-5"><a href="data-collection-and-analysis.html#cb5-5"></a><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></span>
<span id="cb5-6"><a href="data-collection-and-analysis.html#cb5-6"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;08/17/2020 Manual vs Detector Counts Using Lead/Lag Adjustment&quot;</span>) <span class="op">+</span></span>
<span id="cb5-7"><a href="data-collection-and-analysis.html#cb5-7"></a><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">breaks=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">6</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">12</span>,<span class="dv">14</span>,<span class="dv">16</span>,<span class="dv">18</span>,<span class="dv">20</span>))</span></code></pre></div>
<p><img src="ceen594r_term_project_files/figure-html/layton_08_17_20-1.png" width="672" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data-collection-and-analysis.html#cb6-1"></a>rmse_lag &lt;-<span class="st"> </span><span class="cf">function</span>(auto, manual, nlags){</span>
<span id="cb6-2"><a href="data-collection-and-analysis.html#cb6-2"></a>  n &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb6-3"><a href="data-collection-and-analysis.html#cb6-3"></a>  manual_lag &lt;-<span class="st"> </span>manual</span>
<span id="cb6-4"><a href="data-collection-and-analysis.html#cb6-4"></a>  <span class="cf">if</span>(nlags <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>){</span>
<span id="cb6-5"><a href="data-collection-and-analysis.html#cb6-5"></a>    <span class="cf">while</span>(n <span class="op">&lt;</span><span class="st"> </span>nlags){</span>
<span id="cb6-6"><a href="data-collection-and-analysis.html#cb6-6"></a>      manual_lag &lt;-<span class="st"> </span><span class="kw">lag</span>(manual_lag) </span>
<span id="cb6-7"><a href="data-collection-and-analysis.html#cb6-7"></a>      n &lt;-<span class="st"> </span>n <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb6-8"><a href="data-collection-and-analysis.html#cb6-8"></a>    }</span>
<span id="cb6-9"><a href="data-collection-and-analysis.html#cb6-9"></a>  } <span class="cf">else</span> <span class="cf">if</span>(nlags <span class="op">&lt;</span><span class="st"> </span><span class="dv">0</span>){</span>
<span id="cb6-10"><a href="data-collection-and-analysis.html#cb6-10"></a>    <span class="co">#if nlags is negative, use lead</span></span>
<span id="cb6-11"><a href="data-collection-and-analysis.html#cb6-11"></a>    <span class="cf">while</span>(n <span class="op">&lt;</span><span class="st"> </span><span class="dv">-1</span> <span class="op">*</span><span class="st"> </span>nlags){</span>
<span id="cb6-12"><a href="data-collection-and-analysis.html#cb6-12"></a>      manual_lag &lt;-<span class="st"> </span><span class="kw">lead</span>(manual_lag) </span>
<span id="cb6-13"><a href="data-collection-and-analysis.html#cb6-13"></a>      n &lt;-<span class="st"> </span>n <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb6-14"><a href="data-collection-and-analysis.html#cb6-14"></a>    }</span>
<span id="cb6-15"><a href="data-collection-and-analysis.html#cb6-15"></a>  }</span>
<span id="cb6-16"><a href="data-collection-and-analysis.html#cb6-16"></a>  <span class="kw">sqrt</span>(<span class="kw">mean</span>((auto <span class="op">-</span><span class="st"> </span>manual_lag)<span class="op">^</span><span class="dv">2</span>, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</span>
<span id="cb6-17"><a href="data-collection-and-analysis.html#cb6-17"></a>}</span>
<span id="cb6-18"><a href="data-collection-and-analysis.html#cb6-18"></a>layton_<span class="dv">08</span>_<span class="dv">17</span>_<span class="dv">2020</span> <span class="op">%&gt;%</span></span>
<span id="cb6-19"><a href="data-collection-and-analysis.html#cb6-19"></a><span class="st">  </span><span class="kw">summarise</span>(</span>
<span id="cb6-20"><a href="data-collection-and-analysis.html#cb6-20"></a>   <span class="dt">lead3  =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">-3</span>),</span>
<span id="cb6-21"><a href="data-collection-and-analysis.html#cb6-21"></a>   <span class="dt">lead2 =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">-2</span>),</span>
<span id="cb6-22"><a href="data-collection-and-analysis.html#cb6-22"></a>   <span class="dt">lead1 =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">-1</span>),</span>
<span id="cb6-23"><a href="data-collection-and-analysis.html#cb6-23"></a>   <span class="dt">none  =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">0</span>),</span>
<span id="cb6-24"><a href="data-collection-and-analysis.html#cb6-24"></a>   <span class="dt">lag1  =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">1</span>),</span>
<span id="cb6-25"><a href="data-collection-and-analysis.html#cb6-25"></a>   <span class="dt">lag2  =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb6-26"><a href="data-collection-and-analysis.html#cb6-26"></a>   <span class="dt">lag3  =</span> <span class="kw">rmse_lag</span>(Auto_EQ_<span class="dv">1</span>, Manual_EQ_<span class="dv">1</span>, <span class="dv">3</span>)</span>
<span id="cb6-27"><a href="data-collection-and-analysis.html#cb6-27"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 1 x 7
##   lead3 lead2 lead1  none  lag1  lag2  lag3
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2.97  2.73  3.45  1.54  3.28  3.13  2.79</code></pre>
<p>data.table(
name=c(“lead3”,“lead2”,“lead1”,“None”,“lag1”,“lag2”,“lag3”),
value=c(“2.97”,“2.73”,“3.45”,<em>“1.54”</em>,“3.28”,“3.13”,“2.79”)
)</p>
<p>The assessment of the accuracy of the detector data was done in several ways; first, by comparing the detector volume data to the detector occupancy data; comparing these two data sources, it allowed to assess whether the conversion automatically done by the detectors to produce an estimate for volume correlated with the detector occupancy data.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="methods-to-estimate-ramp-queue-length.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="summary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["ceen594r_term_project.pdf", "ceen594r_term_project.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
